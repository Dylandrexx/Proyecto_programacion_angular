import { afterNextRender, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Output, ViewChild, inject, input, } from '@angular/core';
import { lastValueFrom } from 'rxjs';
import { MapService } from './map.service';
import * as i0 from "@angular/core";
export class MapComponent {
    mapService = inject(MapService);
    /* Init inputs */
    accessToken = input();
    collectResourceTiming = input();
    crossSourceCollisions = input();
    fadeDuration = input();
    hash = input();
    refreshExpiredTiles = input();
    failIfMajorPerformanceCaveat = input();
    bearingSnap = input();
    interactive = input();
    pitchWithRotate = input();
    clickTolerance = input();
    attributionControl = input();
    logoPosition = input();
    maxTileCacheSize = input();
    localIdeographFontFamily = input();
    preserveDrawingBuffer = input();
    trackResize = input();
    transformRequest = input();
    bounds = input(); // Use fitBounds for dynamic input
    antialias = input();
    locale = input();
    cooperativeGestures = input();
    /* Dynamic inputs */
    minZoom = input();
    maxZoom = input();
    minPitch = input();
    maxPitch = input();
    scrollZoom = input();
    dragRotate = input();
    touchPitch = input();
    touchZoomRotate = input();
    doubleClickZoom = input();
    keyboard = input();
    dragPan = input();
    boxZoom = input();
    style = input();
    center = input();
    maxBounds = input();
    zoom = input();
    bearing = input();
    pitch = input();
    // First value goes to options.fitBoundsOptions. Subsequents changes are passed to fitBounds
    fitBoundsOptions = input();
    renderWorldCopies = input();
    projection = input();
    /* Added by ngx-mapbox-gl */
    movingMethod = input('flyTo');
    movingOptions = input();
    // => First value is a alias to bounds input (since mapbox 0.53.0). Subsequents changes are passed to fitBounds
    fitBounds = input();
    fitScreenCoordinates = input();
    centerWithPanTo = input();
    panToOptions = input();
    cursorStyle = input();
    // resizeEmitter = new Subject<MapEvent>();
    // mapResize = outputFromObservable(this.mapResizeEmitter);
    mapResize = new EventEmitter();
    mapRemove = new EventEmitter();
    mapMouseDown = new EventEmitter();
    mapMouseUp = new EventEmitter();
    mapMouseMove = new EventEmitter();
    mapClick = new EventEmitter();
    mapDblClick = new EventEmitter();
    mapMouseOver = new EventEmitter();
    mapMouseOut = new EventEmitter();
    mapContextMenu = new EventEmitter();
    mapTouchStart = new EventEmitter();
    mapTouchEnd = new EventEmitter();
    mapTouchMove = new EventEmitter();
    mapTouchCancel = new EventEmitter();
    mapWheel = new EventEmitter();
    moveStart = new EventEmitter();
    move = new EventEmitter();
    moveEnd = new EventEmitter();
    mapDragStart = new EventEmitter();
    mapDrag = new EventEmitter();
    mapDragEnd = new EventEmitter();
    zoomStart = new EventEmitter();
    zoomEvt = new EventEmitter();
    zoomEnd = new EventEmitter();
    rotateStart = new EventEmitter();
    rotate = new EventEmitter();
    rotateEnd = new EventEmitter();
    pitchStart = new EventEmitter();
    pitchEvt = new EventEmitter();
    pitchEnd = new EventEmitter();
    boxZoomStart = new EventEmitter();
    boxZoomEnd = new EventEmitter();
    boxZoomCancel = new EventEmitter();
    webGlContextLost = new EventEmitter();
    webGlContextRestored = new EventEmitter();
    mapLoad = new EventEmitter();
    mapCreate = new EventEmitter();
    idle = new EventEmitter();
    render = new EventEmitter();
    mapError = new EventEmitter();
    data = new EventEmitter();
    styleData = new EventEmitter();
    sourceData = new EventEmitter();
    dataLoading = new EventEmitter();
    styleDataLoading = new EventEmitter();
    sourceDataLoading = new EventEmitter();
    styleImageMissing = new EventEmitter();
    get mapInstance() {
        return this.mapService.mapInstance;
    }
    mapContainer;
    constructor() {
        afterNextRender(() => {
            this.mapService.setup({
                accessToken: this.accessToken(),
                mapOptions: {
                    collectResourceTiming: this.collectResourceTiming(),
                    container: this.mapContainer.nativeElement,
                    crossSourceCollisions: this.crossSourceCollisions(),
                    fadeDuration: this.fadeDuration(),
                    minZoom: this.minZoom(),
                    maxZoom: this.maxZoom(),
                    minPitch: this.minPitch(),
                    maxPitch: this.maxPitch(),
                    style: this.style(),
                    hash: this.hash(),
                    interactive: this.interactive(),
                    bearingSnap: this.bearingSnap(),
                    pitchWithRotate: this.pitchWithRotate(),
                    clickTolerance: this.clickTolerance(),
                    attributionControl: this.attributionControl(),
                    logoPosition: this.logoPosition(),
                    failIfMajorPerformanceCaveat: this.failIfMajorPerformanceCaveat(),
                    preserveDrawingBuffer: this.preserveDrawingBuffer(),
                    refreshExpiredTiles: this.refreshExpiredTiles(),
                    maxBounds: this.maxBounds(),
                    scrollZoom: this.scrollZoom(),
                    boxZoom: this.boxZoom(),
                    dragRotate: this.dragRotate(),
                    dragPan: this.dragPan(),
                    keyboard: this.keyboard(),
                    doubleClickZoom: this.doubleClickZoom(),
                    touchPitch: this.touchPitch(),
                    touchZoomRotate: this.touchZoomRotate(),
                    trackResize: this.trackResize(),
                    center: this.center(),
                    zoom: this.zoom(),
                    bearing: this.bearing(),
                    pitch: this.pitch(),
                    renderWorldCopies: this.renderWorldCopies(),
                    maxTileCacheSize: this.maxTileCacheSize(),
                    localIdeographFontFamily: this.localIdeographFontFamily(),
                    transformRequest: this.transformRequest(),
                    bounds: this.bounds() ? this.bounds() : this.fitBounds(),
                    fitBoundsOptions: this.fitBoundsOptions(),
                    antialias: this.antialias(),
                    locale: this.locale(),
                    cooperativeGestures: this.cooperativeGestures(),
                    projection: this.projection(),
                },
                mapEvents: this,
            });
            if (this.cursorStyle()) {
                this.mapService.changeCanvasCursor(this.cursorStyle());
            }
        });
    }
    ngOnDestroy() {
        this.mapService.destroyMap();
    }
    async ngOnChanges(changes) {
        await lastValueFrom(this.mapService.mapCreated$);
        if (changes['cursorStyle'] && !changes['cursorStyle'].isFirstChange()) {
            this.mapService.changeCanvasCursor(changes['cursorStyle'].currentValue);
        }
        if (changes['projection'] && !changes['projection'].isFirstChange()) {
            this.mapService.updateProjection(changes['projection'].currentValue);
        }
        if (changes['minZoom'] && !changes['minZoom'].isFirstChange()) {
            this.mapService.updateMinZoom(changes['minZoom'].currentValue);
        }
        if (changes['maxZoom'] && !changes['maxZoom'].isFirstChange()) {
            this.mapService.updateMaxZoom(changes['maxZoom'].currentValue);
        }
        if (changes['minPitch'] && !changes['minPitch'].isFirstChange()) {
            this.mapService.updateMinPitch(changes['minPitch'].currentValue);
        }
        if (changes['maxPitch'] && !changes['maxPitch'].isFirstChange()) {
            this.mapService.updateMaxPitch(changes['maxPitch'].currentValue);
        }
        if (changes['renderWorldCopies'] &&
            !changes['renderWorldCopies'].isFirstChange()) {
            this.mapService.updateRenderWorldCopies(changes['renderWorldCopies'].currentValue);
        }
        if (changes['scrollZoom'] && !changes['scrollZoom'].isFirstChange()) {
            this.mapService.updateScrollZoom(changes['scrollZoom'].currentValue);
        }
        if (changes['dragRotate'] && !changes['dragRotate'].isFirstChange()) {
            this.mapService.updateDragRotate(changes['dragRotate'].currentValue);
        }
        if (changes['touchPitch'] && !changes['touchPitch'].isFirstChange()) {
            this.mapService.updateTouchPitch(changes['touchPitch'].currentValue);
        }
        if (changes['touchZoomRotate'] &&
            !changes['touchZoomRotate'].isFirstChange()) {
            this.mapService.updateTouchZoomRotate(changes['touchZoomRotate'].currentValue);
        }
        if (changes['doubleClickZoom'] &&
            !changes['doubleClickZoom'].isFirstChange()) {
            this.mapService.updateDoubleClickZoom(changes['doubleClickZoom'].currentValue);
        }
        if (changes['keyboard'] && !changes['keyboard'].isFirstChange()) {
            this.mapService.updateKeyboard(changes['keyboard'].currentValue);
        }
        if (changes['dragPan'] && !changes['dragPan'].isFirstChange()) {
            this.mapService.updateDragPan(changes['dragPan'].currentValue);
        }
        if (changes['boxZoom'] && !changes['boxZoom'].isFirstChange()) {
            this.mapService.updateBoxZoom(changes['boxZoom'].currentValue);
        }
        if (changes['style'] && !changes['style'].isFirstChange()) {
            this.mapService.updateStyle(changes['style'].currentValue);
        }
        if (changes['maxBounds'] && !changes['maxBounds'].isFirstChange()) {
            this.mapService.updateMaxBounds(changes['maxBounds'].currentValue);
        }
        if (changes['fitBounds'] &&
            changes['fitBounds'].currentValue &&
            !changes['fitBounds'].isFirstChange()) {
            this.mapService.fitBounds(changes['fitBounds'].currentValue, this.fitBoundsOptions());
        }
        if (changes['fitScreenCoordinates'] &&
            changes['fitScreenCoordinates'].currentValue) {
            if ((this.center() || this.zoom() || this.pitch() || this.fitBounds()) &&
                changes['fitScreenCoordinates'].isFirstChange()) {
                console.warn('[ngx-mapbox-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input');
            }
            const bearing = this.bearing();
            this.mapService.fitScreenCoordinates(changes['fitScreenCoordinates'].currentValue, Array.isArray(bearing) ? bearing[0] : bearing || 0, this.movingOptions());
        }
        if (this.centerWithPanTo() &&
            changes['center'] &&
            !changes['center'].isFirstChange() &&
            !changes['zoom'] &&
            !changes['bearing'] &&
            !changes['pitch']) {
            this.mapService.panTo(this.center(), this.panToOptions());
        }
        else if ((changes['center'] && !changes['center'].isFirstChange()) ||
            (changes['zoom'] && !changes['zoom'].isFirstChange()) ||
            (changes['bearing'] &&
                !changes['bearing'].isFirstChange() &&
                !changes['fitScreenCoordinates']) ||
            (changes['pitch'] && !changes['pitch'].isFirstChange())) {
            const zoom = this.zoom();
            const center = this.center();
            const bearing = this.bearing();
            const pitch = this.pitch();
            this.mapService.move(this.movingMethod(), this.movingOptions(), changes['zoom'] && zoom
                ? Array.isArray(zoom)
                    ? zoom[0]
                    : zoom
                : undefined, changes['center'] ? center : undefined, changes['bearing'] && bearing
                ? Array.isArray(bearing)
                    ? bearing[0]
                    : bearing
                : undefined, changes['pitch'] && pitch
                ? Array.isArray(pitch)
                    ? pitch[0]
                    : pitch
                : undefined);
        }
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "20.0.3", ngImport: i0, type: MapComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.1.0", version: "20.0.3", type: MapComponent, isStandalone: true, selector: "mgl-map", inputs: { accessToken: { classPropertyName: "accessToken", publicName: "accessToken", isSignal: true, isRequired: false, transformFunction: null }, collectResourceTiming: { classPropertyName: "collectResourceTiming", publicName: "collectResourceTiming", isSignal: true, isRequired: false, transformFunction: null }, crossSourceCollisions: { classPropertyName: "crossSourceCollisions", publicName: "crossSourceCollisions", isSignal: true, isRequired: false, transformFunction: null }, fadeDuration: { classPropertyName: "fadeDuration", publicName: "fadeDuration", isSignal: true, isRequired: false, transformFunction: null }, hash: { classPropertyName: "hash", publicName: "hash", isSignal: true, isRequired: false, transformFunction: null }, refreshExpiredTiles: { classPropertyName: "refreshExpiredTiles", publicName: "refreshExpiredTiles", isSignal: true, isRequired: false, transformFunction: null }, failIfMajorPerformanceCaveat: { classPropertyName: "failIfMajorPerformanceCaveat", publicName: "failIfMajorPerformanceCaveat", isSignal: true, isRequired: false, transformFunction: null }, bearingSnap: { classPropertyName: "bearingSnap", publicName: "bearingSnap", isSignal: true, isRequired: false, transformFunction: null }, interactive: { classPropertyName: "interactive", publicName: "interactive", isSignal: true, isRequired: false, transformFunction: null }, pitchWithRotate: { classPropertyName: "pitchWithRotate", publicName: "pitchWithRotate", isSignal: true, isRequired: false, transformFunction: null }, clickTolerance: { classPropertyName: "clickTolerance", publicName: "clickTolerance", isSignal: true, isRequired: false, transformFunction: null }, attributionControl: { classPropertyName: "attributionControl", publicName: "attributionControl", isSignal: true, isRequired: false, transformFunction: null }, logoPosition: { classPropertyName: "logoPosition", publicName: "logoPosition", isSignal: true, isRequired: false, transformFunction: null }, maxTileCacheSize: { classPropertyName: "maxTileCacheSize", publicName: "maxTileCacheSize", isSignal: true, isRequired: false, transformFunction: null }, localIdeographFontFamily: { classPropertyName: "localIdeographFontFamily", publicName: "localIdeographFontFamily", isSignal: true, isRequired: false, transformFunction: null }, preserveDrawingBuffer: { classPropertyName: "preserveDrawingBuffer", publicName: "preserveDrawingBuffer", isSignal: true, isRequired: false, transformFunction: null }, trackResize: { classPropertyName: "trackResize", publicName: "trackResize", isSignal: true, isRequired: false, transformFunction: null }, transformRequest: { classPropertyName: "transformRequest", publicName: "transformRequest", isSignal: true, isRequired: false, transformFunction: null }, bounds: { classPropertyName: "bounds", publicName: "bounds", isSignal: true, isRequired: false, transformFunction: null }, antialias: { classPropertyName: "antialias", publicName: "antialias", isSignal: true, isRequired: false, transformFunction: null }, locale: { classPropertyName: "locale", publicName: "locale", isSignal: true, isRequired: false, transformFunction: null }, cooperativeGestures: { classPropertyName: "cooperativeGestures", publicName: "cooperativeGestures", isSignal: true, isRequired: false, transformFunction: null }, minZoom: { classPropertyName: "minZoom", publicName: "minZoom", isSignal: true, isRequired: false, transformFunction: null }, maxZoom: { classPropertyName: "maxZoom", publicName: "maxZoom", isSignal: true, isRequired: false, transformFunction: null }, minPitch: { classPropertyName: "minPitch", publicName: "minPitch", isSignal: true, isRequired: false, transformFunction: null }, maxPitch: { classPropertyName: "maxPitch", publicName: "maxPitch", isSignal: true, isRequired: false, transformFunction: null }, scrollZoom: { classPropertyName: "scrollZoom", publicName: "scrollZoom", isSignal: true, isRequired: false, transformFunction: null }, dragRotate: { classPropertyName: "dragRotate", publicName: "dragRotate", isSignal: true, isRequired: false, transformFunction: null }, touchPitch: { classPropertyName: "touchPitch", publicName: "touchPitch", isSignal: true, isRequired: false, transformFunction: null }, touchZoomRotate: { classPropertyName: "touchZoomRotate", publicName: "touchZoomRotate", isSignal: true, isRequired: false, transformFunction: null }, doubleClickZoom: { classPropertyName: "doubleClickZoom", publicName: "doubleClickZoom", isSignal: true, isRequired: false, transformFunction: null }, keyboard: { classPropertyName: "keyboard", publicName: "keyboard", isSignal: true, isRequired: false, transformFunction: null }, dragPan: { classPropertyName: "dragPan", publicName: "dragPan", isSignal: true, isRequired: false, transformFunction: null }, boxZoom: { classPropertyName: "boxZoom", publicName: "boxZoom", isSignal: true, isRequired: false, transformFunction: null }, style: { classPropertyName: "style", publicName: "style", isSignal: true, isRequired: false, transformFunction: null }, center: { classPropertyName: "center", publicName: "center", isSignal: true, isRequired: false, transformFunction: null }, maxBounds: { classPropertyName: "maxBounds", publicName: "maxBounds", isSignal: true, isRequired: false, transformFunction: null }, zoom: { classPropertyName: "zoom", publicName: "zoom", isSignal: true, isRequired: false, transformFunction: null }, bearing: { classPropertyName: "bearing", publicName: "bearing", isSignal: true, isRequired: false, transformFunction: null }, pitch: { classPropertyName: "pitch", publicName: "pitch", isSignal: true, isRequired: false, transformFunction: null }, fitBoundsOptions: { classPropertyName: "fitBoundsOptions", publicName: "fitBoundsOptions", isSignal: true, isRequired: false, transformFunction: null }, renderWorldCopies: { classPropertyName: "renderWorldCopies", publicName: "renderWorldCopies", isSignal: true, isRequired: false, transformFunction: null }, projection: { classPropertyName: "projection", publicName: "projection", isSignal: true, isRequired: false, transformFunction: null }, movingMethod: { classPropertyName: "movingMethod", publicName: "movingMethod", isSignal: true, isRequired: false, transformFunction: null }, movingOptions: { classPropertyName: "movingOptions", publicName: "movingOptions", isSignal: true, isRequired: false, transformFunction: null }, fitBounds: { classPropertyName: "fitBounds", publicName: "fitBounds", isSignal: true, isRequired: false, transformFunction: null }, fitScreenCoordinates: { classPropertyName: "fitScreenCoordinates", publicName: "fitScreenCoordinates", isSignal: true, isRequired: false, transformFunction: null }, centerWithPanTo: { classPropertyName: "centerWithPanTo", publicName: "centerWithPanTo", isSignal: true, isRequired: false, transformFunction: null }, panToOptions: { classPropertyName: "panToOptions", publicName: "panToOptions", isSignal: true, isRequired: false, transformFunction: null }, cursorStyle: { classPropertyName: "cursorStyle", publicName: "cursorStyle", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { mapResize: "mapResize", mapRemove: "mapRemove", mapMouseDown: "mapMouseDown", mapMouseUp: "mapMouseUp", mapMouseMove: "mapMouseMove", mapClick: "mapClick", mapDblClick: "mapDblClick", mapMouseOver: "mapMouseOver", mapMouseOut: "mapMouseOut", mapContextMenu: "mapContextMenu", mapTouchStart: "mapTouchStart", mapTouchEnd: "mapTouchEnd", mapTouchMove: "mapTouchMove", mapTouchCancel: "mapTouchCancel", mapWheel: "mapWheel", moveStart: "moveStart", move: "move", moveEnd: "moveEnd", mapDragStart: "mapDragStart", mapDrag: "mapDrag", mapDragEnd: "mapDragEnd", zoomStart: "zoomStart", zoomEvt: "zoomEvt", zoomEnd: "zoomEnd", rotateStart: "rotateStart", rotate: "rotate", rotateEnd: "rotateEnd", pitchStart: "pitchStart", pitchEvt: "pitchEvt", pitchEnd: "pitchEnd", boxZoomStart: "boxZoomStart", boxZoomEnd: "boxZoomEnd", boxZoomCancel: "boxZoomCancel", webGlContextLost: "webGlContextLost", webGlContextRestored: "webGlContextRestored", mapLoad: "mapLoad", mapCreate: "mapCreate", idle: "idle", render: "render", mapError: "mapError", data: "data", styleData: "styleData", sourceData: "sourceData", dataLoading: "dataLoading", styleDataLoading: "styleDataLoading", sourceDataLoading: "sourceDataLoading", styleImageMissing: "styleImageMissing" }, providers: [MapService], viewQueries: [{ propertyName: "mapContainer", first: true, predicate: ["container"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: '<div #container></div>', isInline: true, styles: [":host{display:block}div{height:100%;width:100%}\n"], changeDetection: i0.ChangeDetectionStrategy.OnPush });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "20.0.3", ngImport: i0, type: MapComponent, decorators: [{
            type: Component,
            args: [{ selector: 'mgl-map', template: '<div #container></div>', providers: [MapService], standalone: true, changeDetection: ChangeDetectionStrategy.OnPush, styles: [":host{display:block}div{height:100%;width:100%}\n"] }]
        }], ctorParameters: () => [], propDecorators: { mapResize: [{
                type: Output
            }], mapRemove: [{
                type: Output
            }], mapMouseDown: [{
                type: Output
            }], mapMouseUp: [{
                type: Output
            }], mapMouseMove: [{
                type: Output
            }], mapClick: [{
                type: Output
            }], mapDblClick: [{
                type: Output
            }], mapMouseOver: [{
                type: Output
            }], mapMouseOut: [{
                type: Output
            }], mapContextMenu: [{
                type: Output
            }], mapTouchStart: [{
                type: Output
            }], mapTouchEnd: [{
                type: Output
            }], mapTouchMove: [{
                type: Output
            }], mapTouchCancel: [{
                type: Output
            }], mapWheel: [{
                type: Output
            }], moveStart: [{
                type: Output
            }], move: [{
                type: Output
            }], moveEnd: [{
                type: Output
            }], mapDragStart: [{
                type: Output
            }], mapDrag: [{
                type: Output
            }], mapDragEnd: [{
                type: Output
            }], zoomStart: [{
                type: Output
            }], zoomEvt: [{
                type: Output
            }], zoomEnd: [{
                type: Output
            }], rotateStart: [{
                type: Output
            }], rotate: [{
                type: Output
            }], rotateEnd: [{
                type: Output
            }], pitchStart: [{
                type: Output
            }], pitchEvt: [{
                type: Output
            }], pitchEnd: [{
                type: Output
            }], boxZoomStart: [{
                type: Output
            }], boxZoomEnd: [{
                type: Output
            }], boxZoomCancel: [{
                type: Output
            }], webGlContextLost: [{
                type: Output
            }], webGlContextRestored: [{
                type: Output
            }], mapLoad: [{
                type: Output
            }], mapCreate: [{
                type: Output
            }], idle: [{
                type: Output
            }], render: [{
                type: Output
            }], mapError: [{
                type: Output
            }], data: [{
                type: Output
            }], styleData: [{
                type: Output
            }], sourceData: [{
                type: Output
            }], dataLoading: [{
                type: Output
            }], styleDataLoading: [{
                type: Output
            }], sourceDataLoading: [{
                type: Output
            }], styleImageMissing: [{
                type: Output
            }], mapContainer: [{
                type: ViewChild,
                args: ['container', { static: true }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1hcGJveC1nbC9zcmMvbGliL21hcC9tYXAuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxlQUFlLEVBQ2YsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsWUFBWSxFQUdaLE1BQU0sRUFFTixTQUFTLEVBQ1QsTUFBTSxFQUNOLEtBQUssR0FDTixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3JDLE9BQU8sRUFBRSxVQUFVLEVBQWlCLE1BQU0sZUFBZSxDQUFDOztBQW9DMUQsTUFBTSxPQUFPLFlBQVk7SUFDZixVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBRXhDLGlCQUFpQjtJQUNqQixXQUFXLEdBQUcsS0FBSyxFQUE2QixDQUFDO0lBQ2pELHFCQUFxQixHQUFHLEtBQUssRUFBdUMsQ0FBQztJQUNyRSxxQkFBcUIsR0FBRyxLQUFLLEVBQXVDLENBQUM7SUFDckUsWUFBWSxHQUFHLEtBQUssRUFBOEIsQ0FBQztJQUNuRCxJQUFJLEdBQUcsS0FBSyxFQUFzQixDQUFDO0lBQ25DLG1CQUFtQixHQUFHLEtBQUssRUFBcUMsQ0FBQztJQUNqRSw0QkFBNEIsR0FDMUIsS0FBSyxFQUE4QyxDQUFDO0lBQ3RELFdBQVcsR0FBRyxLQUFLLEVBQTZCLENBQUM7SUFDakQsV0FBVyxHQUFHLEtBQUssRUFBNkIsQ0FBQztJQUNqRCxlQUFlLEdBQUcsS0FBSyxFQUFpQyxDQUFDO0lBQ3pELGNBQWMsR0FBRyxLQUFLLEVBQWdDLENBQUM7SUFDdkQsa0JBQWtCLEdBQUcsS0FBSyxFQUFvQyxDQUFDO0lBQy9ELFlBQVksR0FBRyxLQUFLLEVBQThCLENBQUM7SUFDbkQsZ0JBQWdCLEdBQUcsS0FBSyxFQUFrQyxDQUFD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QkFBbkIsTUFBTTtnQkFDRyxXQUFXO3NCQUFwQixNQUFNO2dCQUNHLGdCQUFnQjtzQkFBekIsTUFBTTtnQkFDRyxpQkFBaUI7c0JBQTFCLE1BQU07Z0JBQ0csaUJBQWlCO3NCQUExQixNQUFNO2dCQVFtQyxZQUFZO3NCQUFyRCxTQUFTO3VCQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhZnRlck5leHRSZW5kZXIsXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgT25DaGFuZ2VzLFxuICBPbkRlc3Ryb3ksXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgVmlld0NoaWxkLFxuICBpbmplY3QsXG4gIGlucHV0LFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGxhc3RWYWx1ZUZyb20gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE1hcFNlcnZpY2UsIE1vdmluZ09wdGlvbnMgfSBmcm9tICcuL21hcC5zZXJ2aWNlJztcbmltcG9ydCB0eXBlIHtcbiAgQW5pbWF0aW9uT3B0aW9ucyxcbiAgTG5nTGF0Qm91bmRzTGlrZSxcbiAgTWFwLFxuICBNYXBDb250ZXh0RXZlbnQsXG4gIE1hcERhdGFFdmVudCxcbiAgTWFwRXZlbnQsXG4gIE1hcEV2ZW50cyxcbiAgTWFwTW91c2VFdmVudCxcbiAgTWFwT3B0aW9ucyxcbiAgTWFwU291cmNlRGF0YUV2ZW50LFxuICBNYXBTdHlsZURhdGFFdmVudCxcbiAgTWFwVG91Y2hFdmVudCxcbiAgTWFwV2hlZWxFdmVudCxcbiAgUG9pbnRMaWtlLFxufSBmcm9tICdtYXBib3gtZ2wnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtZ2wtbWFwJyxcbiAgdGVtcGxhdGU6ICc8ZGl2ICNjb250YWluZXI+PC9kaXY+JyxcbiAgc3R5bGVzOiBbXG4gICAgYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cbiAgICAgIGRpdiB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9XG4gICAgYCxcbiAgXSxcbiAgcHJvdmlkZXJzOiBbTWFwU2VydmljZV0sXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBNYXBDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG4gIHByaXZhdGUgbWFwU2VydmljZSA9IGluamVjdChNYXBTZXJ2aWNlKTtcblxuICAvKiBJbml0IGlucHV0cyAqL1xuICBhY2Nlc3NUb2tlbiA9IGlucHV0PE1hcE9wdGlvbnNbJ2FjY2Vzc1Rva2VuJ10+KCk7XG4gIGNvbGxlY3RSZXNvdXJjZVRpbWluZyA9IGlucHV0PE1hcE9wdGlvbnNbJ2NvbGxlY3RSZXNvdXJjZVRpbWluZyddPigpO1xuICBjcm9zc1NvdXJjZUNvbGxpc2lvbnMgPSBpbnB1dDxNYXBPcHRpb25zWydjcm9zc1NvdXJjZUNvbGxpc2lvbnMnXT4oKTtcbiAgZmFkZUR1cmF0aW9uID0gaW5wdXQ8TWFwT3B0aW9uc1snZmFkZUR1cmF0aW9uJ10+KCk7XG4gIGhhc2ggPSBpbnB1dDxNYXBPcHRpb25zWydoYXNoJ10+KCk7XG4gIHJlZnJlc2hFeHBpcmVkVGlsZXMgPSBpbnB1dDxNYXBPcHRpb25zWydyZWZyZXNoRXhwaXJlZFRpbGVzJ10+KCk7XG4gIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQgPVxuICAgIGlucHV0PE1hcE9wdGlvbnNbJ2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQnXT4oKTtcbiAgYmVhcmluZ1NuYXAgPSBpbnB1dDxNYXBPcHRpb25zWydiZWFyaW5nU25hcCddPigpO1xuICBpbnRlcmFjdGl2ZSA9IGlucHV0PE1hcE9wdGlvbnNbJ2ludGVyYWN0aXZlJ10+KCk7XG4gIHBpdGNoV2l0aFJvdGF0ZSA9IGlucHV0PE1hcE9wdGlvbnNbJ3BpdGNoV2l0aFJvdGF0ZSddPigpO1xuICBjbGlja1RvbGVyYW5jZSA9IGlucHV0PE1hcE9wdGlvbnNbJ2NsaWNrVG9sZXJhbmNlJ10+KCk7XG4gIGF0dHJpYnV0aW9uQ29udHJvbCA9IGlucHV0PE1hcE9wdGlvbnNbJ2F0dHJpYnV0aW9uQ29udHJvbCddPigpO1xuICBsb2dvUG9zaXRpb24gPSBpbnB1dDxNYXBPcHRpb25zWydsb2dvUG9zaXRpb24nXT4oKTtcbiAgbWF4VGlsZUNhY2hlU2l6ZSA9IGlucHV0PE1hcE9wdGlvbnNbJ21heFRpbGVDYWNoZVNpemUnXT4oKTtcbiAgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5ID0gaW5wdXQ8TWFwT3B0aW9uc1snbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5J10+KCk7XG4gIHByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IGlucHV0PE1hcE9wdGlvbnNbJ3ByZXNlcnZlRHJhd2luZ0J1ZmZlciddPigpO1xuICB0cmFja1Jlc2l6ZSA9IGlucHV0PE1hcE9wdGlvbnNbJ3RyYWNrUmVzaXplJ10+KCk7XG4gIHRyYW5zZm9ybVJlcXVlc3QgPSBpbnB1dDxNYXBPcHRpb25zWyd0cmFuc2Zvcm1SZXF1ZXN0J10+KCk7XG4gIGJvdW5kcyA9IGlucHV0PE1hcE9wdGlvbnNbJ2JvdW5kcyddPigpOyAvLyBVc2UgZml0Qm91bmRzIGZvciBkeW5hbWljIGlucHV0XG4gIGFudGlhbGlhcyA9IGlucHV0PE1hcE9wdGlvbnNbJ2FudGlhbGlhcyddPigpO1xuICBsb2NhbGUgPSBpbnB1dDxNYXBPcHRpb25zWydsb2NhbGUnXT4oKTtcbiAgY29vcGVyYXRpdmVHZXN0dXJlcyA9IGlucHV0PE1hcE9wdGlvbnNbJ2Nvb3BlcmF0aXZlR2VzdHVyZXMnXT4oKTtcblxuICAvKiBEeW5hbWljIGlucHV0cyAqL1xuICBtaW5ab29tID0gaW5wdXQ8TWFwT3B0aW9uc1snbWluWm9vbSddPigpO1xuICBtYXhab29tID0gaW5wdXQ8TWFwT3B0aW9uc1snbWF4Wm9vbSddPigpO1xuICBtaW5QaXRjaCA9IGlucHV0PE1hcE9wdGlvbnNbJ21pblBpdGNoJ10+KCk7XG4gIG1heFBpdGNoID0gaW5wdXQ8TWFwT3B0aW9uc1snbWF4UGl0Y2gnXT4oKTtcbiAgc2Nyb2xsWm9vbSA9IGlucHV0PE1hcE9wdGlvbnNbJ3Njcm9sbFpvb20nXT4oKTtcbiAgZHJhZ1JvdGF0ZSA9IGlucHV0PE1hcE9wdGlvbnNbJ2RyYWdSb3RhdGUnXT4oKTtcbiAgdG91Y2hQaXRjaCA9IGlucHV0PE1hcE9wdGlvbnNbJ3RvdWNoUGl0Y2gnXT4oKTtcbiAgdG91Y2hab29tUm90YXRlID0gaW5wdXQ8TWFwT3B0aW9uc1sndG91Y2hab29tUm90YXRlJ10+KCk7XG4gIGRvdWJsZUNsaWNrWm9vbSA9IGlucHV0PE1hcE9wdGlvbnNbJ2RvdWJsZUNsaWNrWm9vbSddPigpO1xuICBrZXlib2FyZCA9IGlucHV0PE1hcE9wdGlvbnNbJ2tleWJvYXJkJ10+KCk7XG4gIGRyYWdQYW4gPSBpbnB1dDxNYXBPcHRpb25zWydkcmFnUGFuJ10+KCk7XG4gIGJveFpvb20gPSBpbnB1dDxNYXBPcHRpb25zWydib3hab29tJ10+KCk7XG4gIHN0eWxlID0gaW5wdXQ8TWFwT3B0aW9uc1snc3R5bGUnXT4oKTtcbiAgY2VudGVyID0gaW5wdXQ8TWFwT3B0aW9uc1snY2VudGVyJ10+KCk7XG4gIG1heEJvdW5kcyA9IGlucHV0PE1hcE9wdGlvbnNbJ21heEJvdW5kcyddPigpO1xuICB6b29tID0gaW5wdXQ8W251bWJlcl0gfCBudW1iZXI+KCk7XG4gIGJlYXJpbmcgPSBpbnB1dDxbbnVtYmVyXSB8IG51bWJlcj4oKTtcbiAgcGl0Y2ggPSBpbnB1dDxbbnVtYmVyXSB8IG51bWJlcj4oKTtcbiAgLy8gRmlyc3QgdmFsdWUgZ29lcyB0byBvcHRpb25zLmZpdEJvdW5kc09wdGlvbnMuIFN1YnNlcXVlbnRzIGNoYW5nZXMgYXJlIHBhc3NlZCB0byBmaXRCb3VuZHNcbiAgZml0Qm91bmRzT3B0aW9ucyA9IGlucHV0PE1hcE9wdGlvbnNbJ2ZpdEJvdW5kc09wdGlvbnMnXT4oKTtcbiAgcmVuZGVyV29ybGRDb3BpZXMgPSBpbnB1dDxNYXBPcHRpb25zWydyZW5kZXJXb3JsZENvcGllcyddPigpO1xuICBwcm9qZWN0aW9uID0gaW5wdXQ8TWFwT3B0aW9uc1sncHJvamVjdGlvbiddPigpO1xuICAvKiBBZGRlZCBieSBuZ3gtbWFwYm94LWdsICovXG4gIG1vdmluZ01ldGhvZCA9IGlucHV0PCdqdW1wVG8nIHwgJ2Vhc2VUbycgfCAnZmx5VG8nPignZmx5VG8nKTtcbiAgbW92aW5nT3B0aW9ucyA9IGlucHV0PE1vdmluZ09wdGlvbnM+KCk7XG4gIC8vID0+IEZpcnN0IHZhbHVlIGlzIGEgYWxpYXMgdG8gYm91bmRzIGlucHV0IChzaW5jZSBtYXBib3ggMC41My4wKS4gU3Vic2VxdWVudHMgY2hhbmdlcyBhcmUgcGFzc2VkIHRvIGZpdEJvdW5kc1xuICBmaXRCb3VuZHMgPSBpbnB1dDxMbmdMYXRCb3VuZHNMaWtlPigpO1xuICBmaXRTY3JlZW5Db29yZGluYXRlcyA9IGlucHV0PFtQb2ludExpa2UsIFBvaW50TGlrZV0+KCk7XG4gIGNlbnRlcldpdGhQYW5UbyA9IGlucHV0PGJvb2xlYW4+KCk7XG4gIHBhblRvT3B0aW9ucyA9IGlucHV0PEFuaW1hdGlvbk9wdGlvbnM+KCk7XG4gIGN1cnNvclN0eWxlID0gaW5wdXQ8c3RyaW5nPigpO1xuXG4gIC8vIHJlc2l6ZUVtaXR0ZXIgPSBuZXcgU3ViamVjdDxNYXBFdmVudD4oKTtcbiAgLy8gbWFwUmVzaXplID0gb3V0cHV0RnJvbU9ic2VydmFibGUodGhpcy5tYXBSZXNpemVFbWl0dGVyKTtcbiAgQE91dHB1dCgpIG1hcFJlc2l6ZSA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwRXZlbnQ+KCk7XG4gIEBPdXRwdXQoKSBtYXBSZW1vdmUgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcEV2ZW50PigpO1xuICBAT3V0cHV0KCkgbWFwTW91c2VEb3duID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBNb3VzZUV2ZW50PigpO1xuICBAT3V0cHV0KCkgbWFwTW91c2VVcCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwTW91c2VFdmVudD4oKTtcbiAgQE91dHB1dCgpIG1hcE1vdXNlTW92ZSA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwTW91c2VFdmVudD4oKTtcbiAgQE91dHB1dCgpIG1hcENsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBNb3VzZUV2ZW50PigpO1xuICBAT3V0cHV0KCkgbWFwRGJsQ2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcE1vdXNlRXZlbnQ+KCk7XG4gIEBPdXRwdXQoKSBtYXBNb3VzZU92ZXIgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcE1vdXNlRXZlbnQ+KCk7XG4gIEBPdXRwdXQoKSBtYXBNb3VzZU91dCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwTW91c2VFdmVudD4oKTtcbiAgQE91dHB1dCgpIG1hcENvbnRleHRNZW51ID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBNb3VzZUV2ZW50PigpO1xuICBAT3V0cHV0KCkgbWFwVG91Y2hTdGFydCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwVG91Y2hFdmVudD4oKTtcbiAgQE91dHB1dCgpIG1hcFRvdWNoRW5kID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBUb3VjaEV2ZW50PigpO1xuICBAT3V0cHV0KCkgbWFwVG91Y2hNb3ZlID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBUb3VjaEV2ZW50PigpO1xuICBAT3V0cHV0KCkgbWFwVG91Y2hDYW5jZWwgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcFRvdWNoRXZlbnQ+KCk7XG4gIEBPdXRwdXQoKSBtYXBXaGVlbCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwV2hlZWxFdmVudD4oKTtcbiAgQE91dHB1dCgpIG1vdmVTdGFydCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwRXZlbnRzWydtb3Zlc3RhcnQnXT4oKTtcbiAgQE91dHB1dCgpIG1vdmUgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcEV2ZW50c1snbW92ZSddPigpO1xuICBAT3V0cHV0KCkgbW92ZUVuZCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwRXZlbnRzWydtb3ZlZW5kJ10+KCk7XG4gIEBPdXRwdXQoKSBtYXBEcmFnU3RhcnQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcEV2ZW50c1snZHJhZ3N0YXJ0J10+KCk7XG4gIEBPdXRwdXQoKSBtYXBEcmFnID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBFdmVudHNbJ2RyYWcnXT4oKTtcbiAgQE91dHB1dCgpIG1hcERyYWdFbmQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcEV2ZW50c1snZHJhZ2VuZCddPigpO1xuICBAT3V0cHV0KCkgem9vbVN0YXJ0ID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuICBAT3V0cHV0KCkgem9vbUV2dCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcbiAgQE91dHB1dCgpIHpvb21FbmQgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gIEBPdXRwdXQoKSByb3RhdGVTdGFydCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwRXZlbnRzWydyb3RhdGVzdGFydCddPigpO1xuICBAT3V0cHV0KCkgcm90YXRlID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBFdmVudHNbJ3JvdGF0ZSddPigpO1xuICBAT3V0cHV0KCkgcm90YXRlRW5kID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBFdmVudHNbJ3JvdGF0ZWVuZCddPigpO1xuICBAT3V0cHV0KCkgcGl0Y2hTdGFydCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcbiAgQE91dHB1dCgpIHBpdGNoRXZ0ID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuICBAT3V0cHV0KCkgcGl0Y2hFbmQgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gIEBPdXRwdXQoKSBib3hab29tU3RhcnQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcEV2ZW50c1snYm94em9vbXN0YXJ0J10+KCk7XG4gIEBPdXRwdXQoKSBib3hab29tRW5kID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBFdmVudHNbJ2JveHpvb21lbmQnXT4oKTtcbiAgQE91dHB1dCgpIGJveFpvb21DYW5jZWwgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcEV2ZW50c1snYm94em9vbWNhbmNlbCddPigpO1xuICBAT3V0cHV0KCkgd2ViR2xDb250ZXh0TG9zdCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwQ29udGV4dEV2ZW50PigpO1xuICBAT3V0cHV0KCkgd2ViR2xDb250ZXh0UmVzdG9yZWQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcENvbnRleHRFdmVudD4oKTtcbiAgQE91dHB1dCgpIG1hcExvYWQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcEV2ZW50PigpO1xuICBAT3V0cHV0KCkgbWFwQ3JlYXRlID0gbmV3IEV2ZW50RW1pdHRlcjxNYXA+KCk7XG4gIEBPdXRwdXQoKSBpZGxlID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuICBAT3V0cHV0KCkgcmVuZGVyID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuICBAT3V0cHV0KCkgbWFwRXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyPEVycm9yPigpO1xuICBAT3V0cHV0KCkgZGF0YSA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwRGF0YUV2ZW50PigpO1xuICBAT3V0cHV0KCkgc3R5bGVEYXRhID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBTdHlsZURhdGFFdmVudD4oKTtcbiAgQE91dHB1dCgpIHNvdXJjZURhdGEgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcFNvdXJjZURhdGFFdmVudD4oKTtcbiAgQE91dHB1dCgpIGRhdGFMb2FkaW5nID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBEYXRhRXZlbnQ+KCk7XG4gIEBPdXRwdXQoKSBzdHlsZURhdGFMb2FkaW5nID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBTdHlsZURhdGFFdmVudD4oKTtcbiAgQE91dHB1dCgpIHNvdXJjZURhdGFMb2FkaW5nID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBTb3VyY2VEYXRhRXZlbnQ+KCk7XG4gIEBPdXRwdXQoKSBzdHlsZUltYWdlTWlzc2luZyA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwRXZlbnRzWydzdHlsZWltYWdlbWlzc2luZyddXG4gID4oKTtcblxuICBnZXQgbWFwSW5zdGFuY2UoKTogTWFwIHtcbiAgICByZXR1cm4gdGhpcy5tYXBTZXJ2aWNlLm1hcEluc3RhbmNlO1xuICB9XG5cbiAgQFZpZXdDaGlsZCgnY29udGFpbmVyJywgeyBzdGF0aWM6IHRydWUgfSkgbWFwQ29udGFpbmVyOiBFbGVtZW50UmVmO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGFmdGVyTmV4dFJlbmRlcigoKSA9PiB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2Uuc2V0dXAoe1xuICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbigpLFxuICAgICAgICBtYXBPcHRpb25zOiB7XG4gICAgICAgICAgY29sbGVjdFJlc291cmNlVGltaW5nOiB0aGlzLmNvbGxlY3RSZXNvdXJjZVRpbWluZygpLFxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXIubmF0aXZlRWxlbWVudCxcbiAgICAgICAgICBjcm9zc1NvdXJjZUNvbGxpc2lvbnM6IHRoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zKCksXG4gICAgICAgICAgZmFkZUR1cmF0aW9uOiB0aGlzLmZhZGVEdXJhdGlvbigpLFxuICAgICAgICAgIG1pblpvb206IHRoaXMubWluWm9vbSgpLFxuICAgICAgICAgIG1heFpvb206IHRoaXMubWF4Wm9vbSgpLFxuICAgICAgICAgIG1pblBpdGNoOiB0aGlzLm1pblBpdGNoKCksXG4gICAgICAgICAgbWF4UGl0Y2g6IHRoaXMubWF4UGl0Y2goKSxcbiAgICAgICAgICBzdHlsZTogdGhpcy5zdHlsZSgpLFxuICAgICAgICAgIGhhc2g6IHRoaXMuaGFzaCgpLFxuICAgICAgICAgIGludGVyYWN0aXZlOiB0aGlzLmludGVyYWN0aXZlKCksXG4gICAgICAgICAgYmVhcmluZ1NuYXA6IHRoaXMuYmVhcmluZ1NuYXAoKSxcbiAgICAgICAgICBwaXRjaFdpdGhSb3RhdGU6IHRoaXMucGl0Y2hXaXRoUm90YXRlKCksXG4gICAgICAgICAgY2xpY2tUb2xlcmFuY2U6IHRoaXMuY2xpY2tUb2xlcmFuY2UoKSxcbiAgICAgICAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IHRoaXMuYXR0cmlidXRpb25Db250cm9sKCksXG4gICAgICAgICAgbG9nb1Bvc2l0aW9uOiB0aGlzLmxvZ29Qb3NpdGlvbigpLFxuICAgICAgICAgIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHRoaXMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCgpLFxuICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIoKSxcbiAgICAgICAgICByZWZyZXNoRXhwaXJlZFRpbGVzOiB0aGlzLnJlZnJlc2hFeHBpcmVkVGlsZXMoKSxcbiAgICAgICAgICBtYXhCb3VuZHM6IHRoaXMubWF4Qm91bmRzKCksXG4gICAgICAgICAgc2Nyb2xsWm9vbTogdGhpcy5zY3JvbGxab29tKCksXG4gICAgICAgICAgYm94Wm9vbTogdGhpcy5ib3hab29tKCksXG4gICAgICAgICAgZHJhZ1JvdGF0ZTogdGhpcy5kcmFnUm90YXRlKCksXG4gICAgICAgICAgZHJhZ1BhbjogdGhpcy5kcmFnUGFuKCksXG4gICAgICAgICAga2V5Ym9hcmQ6IHRoaXMua2V5Ym9hcmQoKSxcbiAgICAgICAgICBkb3VibGVDbGlja1pvb206IHRoaXMuZG91YmxlQ2xpY2tab29tKCksXG4gICAgICAgICAgdG91Y2hQaXRjaDogdGhpcy50b3VjaFBpdGNoKCksXG4gICAgICAgICAgdG91Y2hab29tUm90YXRlOiB0aGlzLnRvdWNoWm9vbVJvdGF0ZSgpLFxuICAgICAgICAgIHRyYWNrUmVzaXplOiB0aGlzLnRyYWNrUmVzaXplKCksXG4gICAgICAgICAgY2VudGVyOiB0aGlzLmNlbnRlcigpLFxuICAgICAgICAgIHpvb206IHRoaXMuem9vbSgpLFxuICAgICAgICAgIGJlYXJpbmc6IHRoaXMuYmVhcmluZygpLFxuICAgICAgICAgIHBpdGNoOiB0aGlzLnBpdGNoKCksXG4gICAgICAgICAgcmVuZGVyV29ybGRDb3BpZXM6IHRoaXMucmVuZGVyV29ybGRDb3BpZXMoKSxcbiAgICAgICAgICBtYXhUaWxlQ2FjaGVTaXplOiB0aGlzLm1heFRpbGVDYWNoZVNpemUoKSxcbiAgICAgICAgICBsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6IHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KCksXG4gICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogdGhpcy50cmFuc2Zvcm1SZXF1ZXN0KCksXG4gICAgICAgICAgYm91bmRzOiB0aGlzLmJvdW5kcygpID8gdGhpcy5ib3VuZHMoKSEgOiB0aGlzLmZpdEJvdW5kcygpLFxuICAgICAgICAgIGZpdEJvdW5kc09wdGlvbnM6IHRoaXMuZml0Qm91bmRzT3B0aW9ucygpLFxuICAgICAgICAgIGFudGlhbGlhczogdGhpcy5hbnRpYWxpYXMoKSxcbiAgICAgICAgICBsb2NhbGU6IHRoaXMubG9jYWxlKCksXG4gICAgICAgICAgY29vcGVyYXRpdmVHZXN0dXJlczogdGhpcy5jb29wZXJhdGl2ZUdlc3R1cmVzKCksXG4gICAgICAgICAgcHJvamVjdGlvbjogdGhpcy5wcm9qZWN0aW9uKCksXG4gICAgICAgIH0sXG4gICAgICAgIG1hcEV2ZW50czogdGhpcyxcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuY3Vyc29yU3R5bGUoKSkge1xuICAgICAgICB0aGlzLm1hcFNlcnZpY2UuY2hhbmdlQ2FudmFzQ3Vyc29yKHRoaXMuY3Vyc29yU3R5bGUoKSEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5tYXBTZXJ2aWNlLmRlc3Ryb3lNYXAoKTtcbiAgfVxuXG4gIGFzeW5jIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICBhd2FpdCBsYXN0VmFsdWVGcm9tKHRoaXMubWFwU2VydmljZS5tYXBDcmVhdGVkJCk7XG4gICAgaWYgKGNoYW5nZXNbJ2N1cnNvclN0eWxlJ10gJiYgIWNoYW5nZXNbJ2N1cnNvclN0eWxlJ10uaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UuY2hhbmdlQ2FudmFzQ3Vyc29yKGNoYW5nZXNbJ2N1cnNvclN0eWxlJ10uY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ3Byb2plY3Rpb24nXSAmJiAhY2hhbmdlc1sncHJvamVjdGlvbiddLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZVByb2plY3Rpb24oY2hhbmdlc1sncHJvamVjdGlvbiddLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzWydtaW5ab29tJ10gJiYgIWNoYW5nZXNbJ21pblpvb20nXS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS51cGRhdGVNaW5ab29tKGNoYW5nZXNbJ21pblpvb20nXS5jdXJyZW50VmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snbWF4Wm9vbSddICYmICFjaGFuZ2VzWydtYXhab29tJ10uaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlTWF4Wm9vbShjaGFuZ2VzWydtYXhab29tJ10uY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ21pblBpdGNoJ10gJiYgIWNoYW5nZXNbJ21pblBpdGNoJ10uaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlTWluUGl0Y2goY2hhbmdlc1snbWluUGl0Y2gnXS5jdXJyZW50VmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snbWF4UGl0Y2gnXSAmJiAhY2hhbmdlc1snbWF4UGl0Y2gnXS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS51cGRhdGVNYXhQaXRjaChjaGFuZ2VzWydtYXhQaXRjaCddLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGNoYW5nZXNbJ3JlbmRlcldvcmxkQ29waWVzJ10gJiZcbiAgICAgICFjaGFuZ2VzWydyZW5kZXJXb3JsZENvcGllcyddLmlzRmlyc3RDaGFuZ2UoKVxuICAgICkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZVJlbmRlcldvcmxkQ29waWVzKFxuICAgICAgICBjaGFuZ2VzWydyZW5kZXJXb3JsZENvcGllcyddLmN1cnJlbnRWYWx1ZSxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzWydzY3JvbGxab29tJ10gJiYgIWNoYW5nZXNbJ3Njcm9sbFpvb20nXS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS51cGRhdGVTY3JvbGxab29tKGNoYW5nZXNbJ3Njcm9sbFpvb20nXS5jdXJyZW50VmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snZHJhZ1JvdGF0ZSddICYmICFjaGFuZ2VzWydkcmFnUm90YXRlJ10uaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlRHJhZ1JvdGF0ZShjaGFuZ2VzWydkcmFnUm90YXRlJ10uY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ3RvdWNoUGl0Y2gnXSAmJiAhY2hhbmdlc1sndG91Y2hQaXRjaCddLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZVRvdWNoUGl0Y2goY2hhbmdlc1sndG91Y2hQaXRjaCddLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGNoYW5nZXNbJ3RvdWNoWm9vbVJvdGF0ZSddICYmXG4gICAgICAhY2hhbmdlc1sndG91Y2hab29tUm90YXRlJ10uaXNGaXJzdENoYW5nZSgpXG4gICAgKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlVG91Y2hab29tUm90YXRlKFxuICAgICAgICBjaGFuZ2VzWyd0b3VjaFpvb21Sb3RhdGUnXS5jdXJyZW50VmFsdWUsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBjaGFuZ2VzWydkb3VibGVDbGlja1pvb20nXSAmJlxuICAgICAgIWNoYW5nZXNbJ2RvdWJsZUNsaWNrWm9vbSddLmlzRmlyc3RDaGFuZ2UoKVxuICAgICkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZURvdWJsZUNsaWNrWm9vbShcbiAgICAgICAgY2hhbmdlc1snZG91YmxlQ2xpY2tab29tJ10uY3VycmVudFZhbHVlLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ2tleWJvYXJkJ10gJiYgIWNoYW5nZXNbJ2tleWJvYXJkJ10uaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlS2V5Ym9hcmQoY2hhbmdlc1sna2V5Ym9hcmQnXS5jdXJyZW50VmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snZHJhZ1BhbiddICYmICFjaGFuZ2VzWydkcmFnUGFuJ10uaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlRHJhZ1BhbihjaGFuZ2VzWydkcmFnUGFuJ10uY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ2JveFpvb20nXSAmJiAhY2hhbmdlc1snYm94Wm9vbSddLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZUJveFpvb20oY2hhbmdlc1snYm94Wm9vbSddLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzWydzdHlsZSddICYmICFjaGFuZ2VzWydzdHlsZSddLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZVN0eWxlKGNoYW5nZXNbJ3N0eWxlJ10uY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ21heEJvdW5kcyddICYmICFjaGFuZ2VzWydtYXhCb3VuZHMnXS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS51cGRhdGVNYXhCb3VuZHMoY2hhbmdlc1snbWF4Qm91bmRzJ10uY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgY2hhbmdlc1snZml0Qm91bmRzJ10gJiZcbiAgICAgIGNoYW5nZXNbJ2ZpdEJvdW5kcyddLmN1cnJlbnRWYWx1ZSAmJlxuICAgICAgIWNoYW5nZXNbJ2ZpdEJvdW5kcyddLmlzRmlyc3RDaGFuZ2UoKVxuICAgICkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLmZpdEJvdW5kcyhcbiAgICAgICAgY2hhbmdlc1snZml0Qm91bmRzJ10uY3VycmVudFZhbHVlLFxuICAgICAgICB0aGlzLmZpdEJvdW5kc09wdGlvbnMoKSxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGNoYW5nZXNbJ2ZpdFNjcmVlbkNvb3JkaW5hdGVzJ10gJiZcbiAgICAgIGNoYW5nZXNbJ2ZpdFNjcmVlbkNvb3JkaW5hdGVzJ10uY3VycmVudFZhbHVlXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgICh0aGlzLmNlbnRlcigpIHx8IHRoaXMuem9vbSgpIHx8IHRoaXMucGl0Y2goKSB8fCB0aGlzLmZpdEJvdW5kcygpKSAmJlxuICAgICAgICBjaGFuZ2VzWydmaXRTY3JlZW5Db29yZGluYXRlcyddLmlzRmlyc3RDaGFuZ2UoKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnW25neC1tYXBib3gtZ2xdIGNlbnRlciAvIHpvb20gLyBwaXRjaCAvIGZpdEJvdW5kcyBpbnB1dHMgYXJlIGJlaW5nIG92ZXJyaWRkZW4gYnkgZml0U2NyZWVuQ29vcmRpbmF0ZXMgaW5wdXQnLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgYmVhcmluZyA9IHRoaXMuYmVhcmluZygpO1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLmZpdFNjcmVlbkNvb3JkaW5hdGVzKFxuICAgICAgICBjaGFuZ2VzWydmaXRTY3JlZW5Db29yZGluYXRlcyddLmN1cnJlbnRWYWx1ZSxcbiAgICAgICAgQXJyYXkuaXNBcnJheShiZWFyaW5nKSA/IGJlYXJpbmdbMF0gOiBiZWFyaW5nIHx8IDAsXG4gICAgICAgIHRoaXMubW92aW5nT3B0aW9ucygpLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5jZW50ZXJXaXRoUGFuVG8oKSAmJlxuICAgICAgY2hhbmdlc1snY2VudGVyJ10gJiZcbiAgICAgICFjaGFuZ2VzWydjZW50ZXInXS5pc0ZpcnN0Q2hhbmdlKCkgJiZcbiAgICAgICFjaGFuZ2VzWyd6b29tJ10gJiZcbiAgICAgICFjaGFuZ2VzWydiZWFyaW5nJ10gJiZcbiAgICAgICFjaGFuZ2VzWydwaXRjaCddXG4gICAgKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UucGFuVG8odGhpcy5jZW50ZXIoKSEsIHRoaXMucGFuVG9PcHRpb25zKCkpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAoY2hhbmdlc1snY2VudGVyJ10gJiYgIWNoYW5nZXNbJ2NlbnRlciddLmlzRmlyc3RDaGFuZ2UoKSkgfHxcbiAgICAgIChjaGFuZ2VzWyd6b29tJ10gJiYgIWNoYW5nZXNbJ3pvb20nXS5pc0ZpcnN0Q2hhbmdlKCkpIHx8XG4gICAgICAoY2hhbmdlc1snYmVhcmluZyddICYmXG4gICAgICAgICFjaGFuZ2VzWydiZWFyaW5nJ10uaXNGaXJzdENoYW5nZSgpICYmXG4gICAgICAgICFjaGFuZ2VzWydmaXRTY3JlZW5Db29yZGluYXRlcyddKSB8fFxuICAgICAgKGNoYW5nZXNbJ3BpdGNoJ10gJiYgIWNoYW5nZXNbJ3BpdGNoJ10uaXNGaXJzdENoYW5nZSgpKVxuICAgICkge1xuICAgICAgY29uc3Qgem9vbSA9IHRoaXMuem9vbSgpO1xuICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXIoKTtcbiAgICAgIGNvbnN0IGJlYXJpbmcgPSB0aGlzLmJlYXJpbmcoKTtcbiAgICAgIGNvbnN0IHBpdGNoID0gdGhpcy5waXRjaCgpO1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLm1vdmUoXG4gICAgICAgIHRoaXMubW92aW5nTWV0aG9kKCksXG4gICAgICAgIHRoaXMubW92aW5nT3B0aW9ucygpLFxuICAgICAgICBjaGFuZ2VzWyd6b29tJ10gJiYgem9vbVxuICAgICAgICAgID8gQXJyYXkuaXNBcnJheSh6b29tKVxuICAgICAgICAgICAgPyB6b29tWzBdXG4gICAgICAgICAgICA6IHpvb21cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgY2hhbmdlc1snY2VudGVyJ10gPyBjZW50ZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIGNoYW5nZXNbJ2JlYXJpbmcnXSAmJiBiZWFyaW5nIVxuICAgICAgICAgID8gQXJyYXkuaXNBcnJheShiZWFyaW5nKVxuICAgICAgICAgICAgPyBiZWFyaW5nWzBdXG4gICAgICAgICAgICA6IGJlYXJpbmdcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgY2hhbmdlc1sncGl0Y2gnXSAmJiBwaXRjaFxuICAgICAgICAgID8gQXJyYXkuaXNBcnJheShwaXRjaClcbiAgICAgICAgICAgID8gcGl0Y2hbMF1cbiAgICAgICAgICAgIDogcGl0Y2hcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iXX0=